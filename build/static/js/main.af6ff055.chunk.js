(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),l=a.n(i),c=(a(15),a(9)),o=a(10),s=a(13),u=a(11),m=a(14),d=(a(26),a(36)),h=a(7),E=a.n(h),p=a(3),g=a(4);var w=function(e){var t=e.weather,a=new Date(1e3*t.daily.data[0].sunriseTime),n=new Date(1e3*t.daily.data[0].sunsetTime);return r.a.createElement("section",{className:"weatherBox"},r.a.createElement("div",{className:"skyconBox"},r.a.createElement("h2",null,t.currently.temperature.toFixed(0),"\xb0"),r.a.createElement(E.a,{icon:t.currently.icon.toUpperCase().replace(/-/g,"_"),style:{},width:"64px",height:"64px",color:"white"})),r.a.createElement("p",null,r.a.createElement(p.a,{icon:g.c})," Humidity: ",(100*t.currently.humidity).toFixed(0),"%",r.a.createElement("br",null),r.a.createElement(p.a,{icon:g.d})," Wind Speed: ",t.currently.windSpeed," ","si"===t.flags.units?"m/s":"mph"),r.a.createElement("p",null,r.a.createElement(p.a,{icon:g.b})," Sunrise: ",a.getHours()<10?"0".concat(a.getHours()):a.getHours(),":",a.getMinutes(),r.a.createElement("br",null),r.a.createElement(p.a,{icon:g.a})," Sunset: ",n.getHours(),":",n.getMinutes()),r.a.createElement("p",{className:"summary"},t.currently.summary))};function y(e){var t=e.times,a=e.data;return r.a.createElement("tr",null,r.a.createElement("td",null,t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})),r.a.createElement("td",null,r.a.createElement(E.a,{icon:a.icon.toUpperCase().replace(/-/g,"_"),style:{},width:"32px",height:"32px",color:"rgba(30,87,153,1)"})),r.a.createElement("td",null,a.temperature.toFixed(0),"\xb0"),r.a.createElement("td",null,(100*a.precipProbability).toFixed(0),"%"),r.a.createElement("td",null,a.windSpeed))}var f=function(e){var t=e.weather,a=(e.hour,t.hourly.data),n=[new Date(1e3*a[0].time),new Date(1e3*a[3].time),new Date(1e3*a[6].time),new Date(1e3*a[9].time),new Date(1e3*a[12].time),new Date(1e3*a[15].time),new Date(1e3*a[18].time),new Date(1e3*a[21].time)];return r.a.createElement("table",null,r.a.createElement("caption",null,"Weather for the coming 24 hours"),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Time"),r.a.createElement("th",{scope:"col"},"Sum."),r.a.createElement("th",{scope:"col"},"Temp."),r.a.createElement("th",{scope:"col"},"Precip."),r.a.createElement("th",{scope:"col"},r.a.createElement(p.a,{icon:g.d})))),r.a.createElement("tbody",null,r.a.createElement(y,{times:n[0],data:a[0]}),r.a.createElement(y,{times:n[1],data:a[3]}),r.a.createElement(y,{times:n[2],data:a[6]}),r.a.createElement(y,{times:n[3],data:a[9]}),r.a.createElement(y,{times:n[4],data:a[12]}),r.a.createElement(y,{times:n[5],data:a[15]}),r.a.createElement(y,{times:n[6],data:a[18]}),r.a.createElement(y,{times:n[7],data:a[21]})))},v=function(e){return r.a.createElement("div",{className:"weatherDailyContainer"},r.a.createElement(f,{weather:e.weather}))};var b=function(e){var t=e.weather,a=e.units,n=new Date(1e3*t.sunriseTime),i=new Date(1e3*t.sunsetTime),l=new Date(1e3*t.time).getDay();return r.a.createElement("section",{className:"weatherBox"},r.a.createElement("div",{className:"skyconBox"},r.a.createElement("h2",null,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][l]),r.a.createElement(E.a,{icon:t.icon.toUpperCase().replace(/-/g,"_"),style:{},width:"64px",height:"64px",color:"white"})),r.a.createElement("p",null,"Low: ",t.temperatureLow.toFixed(0),"\xb0 High: ",t.temperatureHigh.toFixed(0),"\xb0"),r.a.createElement("p",null,r.a.createElement(p.a,{icon:g.c})," Humidity: ",(100*t.humidity).toFixed(0),"%",r.a.createElement("br",null),r.a.createElement(p.a,{icon:g.d})," Wind Speed: ",t.windSpeed.toFixed(1)," ","si"===a?"m/s":"mph"),r.a.createElement("p",null,r.a.createElement(p.a,{icon:g.b})," Sunrise: ",n.getHours()<10?"0".concat(n.getHours()):n.getHours(),":",n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes(),r.a.createElement("br",null),r.a.createElement(p.a,{icon:g.a})," Sunset: ",i.getHours(),":",i.getMinutes()),r.a.createElement("p",{className:"summary"},t.summary))},x=function(e){return r.a.createElement("div",{className:"weatherDailyContainer"},r.a.createElement(b,{weather:e.weather.daily.data[0],units:e.weather.flags.units}),r.a.createElement(b,{weather:e.weather.daily.data[1],units:e.weather.flags.units}),r.a.createElement(b,{weather:e.weather.daily.data[2],units:e.weather.flags.units}),r.a.createElement(b,{weather:e.weather.daily.data[3],units:e.weather.flags.units}),r.a.createElement(b,{weather:e.weather.daily.data[4],units:e.weather.flags.units}))},D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={apiResponse:{},error:null,isLoaded:!1,position:null},a.apiKey="c6338956c5d3b6641eb3d515607e857c",a.baseApiUrl="https://api.darksky.net/forecast/",a.stockholm="/59.3260668, 17.841971",a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getCurrentWeather",value:function(){var e=this;this.setState({isLoaded:!1}),fetch("http://157.230.114.10/".concat(this.baseApiUrl).concat(this.apiKey).concat(this.state.position).concat(this.props.units)).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,apiResponse:t}),e.state.isLoaded&&(console.log(t),console.log(e.state.apiResponse))}).catch(function(t){e.setState({isLoaded:!0,error:t}),console.log("Error, something went wrong"+t)})}},{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.setState({position:"/".concat(t.coords.latitude,", ").concat(t.coords.longitude)}),console.log(t),e.getCurrentWeather()},function(t){e.setState({position:e.stockholm}),e.getCurrentWeather()}),console.log(this.state.position)}},{key:"componentDidUpdate",value:function(e){this.props.units!==e.units&&this.getCurrentWeather()}},{key:"render",value:function(){var e=this.state,t=e.apiResponse,a=e.error,n=e.isLoaded;return a?r.a.createElement("div",null,"Error: ",a.message):n?r.a.createElement("div",null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(w,Object.assign({},e,{weather:t,isLoaded:n}))}}),r.a.createElement(d.a,{path:"/daily",render:function(e){return r.a.createElement(v,Object.assign({},e,{weather:t,isLoaded:n}))}}),r.a.createElement(d.a,{path:"/fiveday",render:function(e){return r.a.createElement(x,Object.assign({},e,{weather:t,isLoaded:n}))}})):r.a.createElement("p",null,"Loading...")}}]),t}(r.a.Component),S=a(35);var k=function(e){return console.log("Navbar props: ",e),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(S.a,{to:"/"},"Current Weather")),r.a.createElement("li",null,r.a.createElement(S.a,{to:"/daily"},"Today's Weather")),r.a.createElement("li",null,r.a.createElement("a",{href:"/fiveday"},"5 Day Prognosis"))),r.a.createElement("div",{className:"tempDiv"},r.a.createElement("button",{className:"tempBut",onClick:function(){return e.changeUnits("?units=si")}},"\xb0C"),r.a.createElement("button",{className:"tempBut",onClick:function(){return e.changeUnits("?units=us")}},"\xb0F")))},C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeUnits=function(e){console.log(e),a.setState({units:e})},a.state={units:"?units=auto"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,{changeUnits:this.changeUnits}),r.a.createElement("main",null,r.a.createElement("h1",null,"What's the weather?"),r.a.createElement(D,{units:this.state.units})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(37);l.a.render(r.a.createElement(j.a,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.af6ff055.chunk.js.map